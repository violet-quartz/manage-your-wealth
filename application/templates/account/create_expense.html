{% extends 'base.html' %}

{% block header %}
    <h1>{% block title %}New Expense{% endblock %}</h1>
    <a href="{{ url_for('account.index') }}">Back to Home</a>
{% endblock %}

{% block content %}
    <form method="post">
        <label for="expense_type">Type:</label>
        <select id="expense_type" name="expense_type" value="{{ request.form['expense_type'] }}" required>
            <option value="food">Food</option>
            <option value="transport">Transport</option>
            <option value="meal">Meal</option>
            <option value="entertainment">Entertainment</option>
            <option value="clothes">Clothes</option>
            <option value="accommodation">Accommodation</option>
            <option value="saving">Saving</option>
            <option value="investment">Investment</option>
            <option value="appliance">Appliance</option>
            <option value="health">Health</option>
            <option value="daily-necessities">Daily Necessities</option>
            <option value="communication">Communication</option>
            <option value="other">Other</option>
        </select>
        <br>

        <label for="amount">Amount:</label>
        <input type="number" id="amount" name="amount" step="0.01" value="{{ request.form['amount'] }}" required>
        <br>

        <label for="currency">Currency:</label>
        <select id="currency" name="currency" value="{{ request.form['currency'] }}" required>
            <option value="RMB">RMB</option>
            <option value="USD">USD</option>
            <option value="EUR">EUR</option>
            <option value="GBP">GBP</option>
            <option value="HKD">HKD</option>
            <option value="JPY">JPY</option>
        </select>
        <br>

        <div>
            <lable for="use_saving">Expense from saving account?:</lable>
            <input type="radio" id="yes" name="use_saving" value="yes">
            <label for="yes">Yes</label>
            <input type="radio" id="no" name="use_saving" value="no">
            <label for="no">No</label>
        </div>
        <br>

        <label for="details">Details:</label>
        <textarea id="details" name="details" rows="4" cols="50">{{ request.form['details'] }}</textarea>
        <br>

        <label for="expense_date">Date:</label>
        <input type="date" id="expense_date" name="expense_date" value="{{ request.form['expense_date'] }}" required>
        <br>

        <label for="start_date">Start Date:</label>
        <input type="date" id="start_date" name="start_date" value="{{ request.form['start_date'] }}">
        <br>

        <label for="end_date">End Date:</label>
        <input type="date" id="end_date" name="end_date" value="{{ request.form['end_date'] }}">
        <br>

        <label for="project">Related Project:</label>
        <select id="project" name="project" value="{{ request.form['project'] }}" required>
            {% for p in projects %}
                <option value="{{ p['id'] }}">{{ p['name'] }}</option>
            {% endfor %}
        </select>
        <a class="action" href="{{ url_for('account.project.create') }}">New Project</a>
        <br>
        
        <input type="submit" value="Create">
    </form>
{% endblock %}